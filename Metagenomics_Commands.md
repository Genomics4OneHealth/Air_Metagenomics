# 1. Guppy Basecaller

Guppy Basecaller is a software tool to convert the raw electrical signal data from nanopore sequencing into DNA sequences. 
Here's an example of a commonly used command with Guppy Basecaller:

```bash
guppy_basecaller -i /input/directory -s /output/directory --config configuration.cfg
```

In this command:

- `-i` /input/directory specifies the input directory where the raw data files (.fast5 files) are located.
- `-s` /output/directory specifies the output directory where the basecalled reads will be written.
- `--config` configuration.cfg is used to specify a configuration file that contains the basecalling model and other settings.

This command will basecall the raw data in the specified input directory using the settings from the configuration file, and write the output to the specified output directory.


# 2. Porechop

Porechop is a tool developed for Oxford Nanopore sequencing data. It is used for finding and removing adapters from Oxford Nanopore reads. Adapters on the ends of reads are trimmed off, and when a read has an adapter in its middle, it is treated as chimeric and chopped into separate reads.

Here's an example of a commonly used command with Porechop:

```bash
porechop -i input.fastq -o output.fastq
```

In this command:

- `-i` input.fastq specifies the input file (in FASTQ format) that you want to trim adapters from.
- `-o` output.fastq specifies the output file where the trimmed reads will be written.

This command reads the input FASTQ file, trims adapters from the reads, and writes the resulting trimmed reads to the output file.


# 3. NanoFilt

NanoFilt is a simple tool to filter Oxford Nanopore sequencing data. It reads in a FASTQ file (or stdin), filters reads based on a minimum quality and/or a minimum length, and writes out the filtered reads to stdout.

Here's an example of a commonly used command with NanoFilt:

```bash
gunzip -c input.fastq.gz | NanoFilt -q 9 -l 100 | gzip > output.fastq.gz
```

In this command:

- `gunzip -c input.fastq.gz` is used to decompress the input FASTQ file.
- `NanoFilt -q 9 -l 500 filters` reads based on a minimum quality of 9 and a minimum length of 100.
- `gzip > output.fastq.gz` compresses the filtered reads and writes them to the output file.

This command decompresses the input FASTQ file, filters the reads based on the specified minimum quality and length, and writes the filtered reads to the output file in compressed format.


# 4. Flye

Flye is a de novo assembler for single-molecule sequencing reads, such as those produced by PacBio and Oxford Nanopore Technologies. It is designed for a wide range of datasets, from small bacterial projects to large mammalian genomes. The Flye assembler provides accurate, fast, and scalable solutions to assembly problems.

In the context of metagenomic projects, Flye can be run in 'meta' mode. Here's an example of a commonly used command with Flye in 'meta' mode:

```bash
flye --meta --nano-raw input.fastq --out-dir output_directory 
```

In this command:

- `--meta` indicates that Flye should be run in 'meta' mode for metagenomic data.
- `--nano-raw` input.fastq specifies the input file containing the reads. Depending on the source of the sequencing data change to nano-hq or nano-corr
- `--out-dir` output_directory specifies the directory where the assembly result will be written.

This command runs Flye in 'meta' mode on the input reads, assembles the reads, and writes the assembly result to the specified output directory.


# 5. Minimap2

Minimap2 is a versatile sequence alignment program that aligns DNA or mRNA sequences against a large reference database. 

Here's an example of a commonly used command with Minimap2:

```bash
minimap2 -ax map-ont /path/to/flye/output/assembly.fasta /path/to/nanofilt/output/reads.fastq | samtools sort -o /path/to/minimap2/output/reads.sorted.bam
```

In this command:

- `-ax map-ont` tells minimap2 that the input are Oxford Nanopore reads.
- `/path/to/flye/output/assembly.fasta` is the file path to the assembled sequences.
- `/path/to/nanofilt/output/reads.fastq` is the file path to the nanopore reads.
- `samtools sort -o /path/to/minimap2/output/reads.sorted.bam` sorts the output and specifies the output file path.

This command runs minimap2 and realigns the initial reads to the assemblye assembled by flye.


# 6. Racon

Racon is a consensus module to correct raw contigs generated by rapid assembly methods which do not include a consensus step, such as Flye.

Here's an example of a commonly used command with Racon:

```bash
racon /path/to/nanofilt/output/reads.fastq /path/to/minimap2/output/reads.sam /path/to/flye/output/assembly.fasta > /path/to/racon/output/assembly.polished.fasta
```

In this command:

- `/path/to/nanofilt/output/reads.fastq` is the file path to the nanopore reads.
- `/path/to/minimap2/output/reads.sam` is the file path to the sorted alignment file.
- `/path/to/flye/output/assembly.fasta` is the file path to the assembled sequences.
- `/path/to/racon/output/assembly.polished.fasta` specifies the output file path.


# 7. metaWrap

MetaWRAP is a modular pipeline for the efficient and robust analysis of metagenomes. It combines several existing tools and workflows for quality control, assembly, binning, annotation, and visualization. MetaWRAP aims to facilitate the process of metagenomic analysis, making it more accessible and interpretable.

Here's an example of a commonly used command with MetaWRAP:

```bash
metawrap binning -o /output/directory -t 16 -a /input/assembly.fasta --metabat2 --maxbin2 --concoct /input/read_1.fastq /input/read_2.fastq
```

In this command:

- `binning` is the module used for binning assembled contigs into genomic bins.
- `-o /output/directory` specifies the output directory for the binning results.
- `-t 16` sets the number of threads to use, which speeds up the process.
- `-a /input/assembly.fasta` specifies the input file containing assembled contigs in FASTA format.
- `--metabat2 --maxbin2 --concoct` are the binning algorithms to be used in the analysis.
- `/input/read_1.fastq /input/read_2.fastq` are the input paired-end sequencing reads.

This command will process the input reads and contigs, applying multiple binning algorithms, and generate genomic bins in the specified output directory.


# MetaWRAP - Bin Refinement Module

The bin refinement module of MetaWRAP is designed to improve the quality of metagenomic bins derived from complex microbial communities. It refines the bins generated by different binning algorithms by merging or splitting them based on their quality and completeness. This process enhances the accuracy of the metagenomic analysis, leading to more reliable genomic reconstructions.

## Common Command Usage

Here's an example of a commonly used command with the bin refinement module in MetaWRAP:

```bash
metawrap bin_refinement -o /output/directory -t 16 -A /input/bin_set1 -B /input/bin_set2 -C /input/bin_set3 -c 70 -x 10
```

In this command:

- `bin_refinement` is the module used for improving the quality of metagenomic bins.
- `-o /output/directory` specifies the output directory for the refined bins.
- `-t 16` sets the number of threads to use, which can speed up the processing time.
- `-A /input/bin_set1`, `-B /input/bin_set2`, and `-C /input/bin_set3` specify the input directories containing the initial bin sets produced by different binning algorithms.
- `-c 70` and `-x 10` set the minimum completeness and maximum contamination thresholds, respectively, for the refined bins.

This command will refine the input bins from three different sets, using the specified completeness and contamination thresholds, and save the improved bins in the specified output directory.


# 8. Prodigal

Prodigal (Prokaryotic Dynamic Programming Genefinding Algorithm) is a microbial (bacterial and archaeal) gene finding program.

```bash
prodigal -i /path/to/assembly.fasta -a /path/to/proteins.faa -o /path/to/prodigal_output.gbk -p meta
```

# 9. EggNOG-mapper

EggNOG-mapper is a tool for fast functional annotation of novel sequences. It uses precomputed evolutionary models to perform fast orthology assignments.

```bash
emapper.py -i /path/to/proteins.faa -o /path/to/eggnog_output -m diamond --cpu 8 --data_dir /path/to/eggnog_data/
```

# 10. CheckM

CheckM provides a set of tools for assessing the quality of genomes recovered from isolates, single cells, or metagenomes. 

```bash
checkm lineage_wf /path/to/bins/ /path/to/checkm_output/
```

# 11. Kraken2

Kraken2 is a software tool for assigning taxonomic labels to short DNA sequences. It uses a k-mer based approach for fast and accurate classification.
Here's an example of a commonly used command with Kraken2:

```bash
kraken2 --db kraken_db_finalized --use-names --report report_samplename.txt --output output_samplename.txt sample.fastq --memory-mapping --threads 24
```

In this command:

    `--db /path/to/kraken2/db specifies the path to the Kraken2 database that has been pre-built. The database contains k-mer to taxon mappings.
    - `sample.fastq`  indicates that the input sequences
    `--output kraken2_output.txt` specifies the output file where the classification results will be written.
    `--memory-mapping` stops kraken2 from trying to load the complete database into the memory (wouldnt work without this)

This command will classify the reads in the specified FASTQ files using the Kraken2 database and write the taxonomic labels to the specified output file.


# 12. Diamond

Example command used with DIAMOND:

```bash
diamond blastx -d diamond_db -q sample.fastq -o sample_name_blastx.dmnd_out -f 6 qseqid sseqid pident length mismatch gapopen qstart qend sstart send evalue bitscore staxids salltitles sscinames
```

In this command:

    `-d diamond_db` specifies the path to the DIAMOND database file, which needs to be pre-built using the diamond makedb command.
    `-q sample.fastq` specifies the input file containing the DNA query sequences in FASTA format.
    `-o sample_name_blastx.dmnd_out` specifies the output file where the alignments will be written, typically in BLAST tabular format.
    `-f 6 qseqid sseqid pident length mismatch gapopen qstart qend sstart send evalue bitscore staxids salltitles sscinames` - this specifies how the output should be structured and which values/metrics it should have 

This command will perform a translated search of the DNA query sequences against the protein database and write the alignment results to the specified output file.
